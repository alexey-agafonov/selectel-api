# selectel-api

## Описание

Проект представляет собой API, который принимает файлы от пользователя и сохраняет их в контейнер в облачном хранилище.

## Запуск

### Для того, чтобы запустить данный проект, необходимо выполнить следующие шаги.

#### Настройка переменных окружения

Для запуска проекта необходим .env-файл, содержащий важные данные для старта приложения. Можно взять .env.example переименовать в .env и установить значения всем переменным.

#### Настройка виртуального окружения

Для установки необходим Python3. После успешной устновки необходимо создать виртуальное окружение и установить в него все зависимости, указанные в файле requirements.txt

#### Завершение

После установки виртуального окружения, настройки переменных среды и установки всех зависимостей можно запустить проект командой flask run, после этого запустится development-сервер и API готов к работе.

### Ссылки
Swagger UI доступен по адресу https://api.agafonov.dev/docs/, если смотреть на сервере и http://localhost:5000/docs, если смотреть локально.

### Как пользоваться

Всего у API есть три метода:

* GET /files/ - получение информации о загруженных файлах пользователем;
* DELETE /files/{id}/ - удаление ненужного файла
* PUT /upload/ - сохранение переданного пользователем файла. После того, как пользователь отправил файл, этот файл сохраняется на диск и разбивается на части. В это время второй сервис отслеживает изменения в директориях и сохраняет части файла в облачное хранилище Selectel.

Для успешного выполнения запроса необходимо передавать в запросе заголовок X-Auth-Token с корректным UUID.